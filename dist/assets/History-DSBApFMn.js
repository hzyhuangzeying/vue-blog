import{_ as J,u as K,r as d,o as O,a as l,c as _,b as u,d as s,e as t,w as a,h as r,F as V,f as S,t as n,v as H,E as y}from"./index-DoAYnoBG.js";const Q={class:"history-page"},W={class:"history-content"},X={class:"history-section"},Y={class:"section-header"},Z={class:"header-actions"},ss={class:"article-history-list"},ts={class:"article-cover"},es=["src","alt"],os={key:1,class:"no-cover"},as={class:"article-info"},ls=["onClick"],ns={class:"article-summary"},is={class:"article-meta"},cs={class:"author"},ds={class:"publish-time"},rs={class:"views"},_s={class:"read-time"},us={class:"article-actions"},vs={class:"history-section"},ms={class:"section-header"},hs={class:"header-actions"},ps={class:"search-history-list"},ys={class:"search-icon"},fs={class:"search-info"},bs=["onClick"],ks={class:"search-time"},ws={class:"search-actions"},Ts={class:"history-section"},gs={class:"stats-grid"},Cs={class:"stat-card"},xs={class:"stat-icon"},Vs={class:"stat-content"},Ss={class:"stat-number"},Hs={class:"stat-card"},Bs={class:"stat-icon"},As={class:"stat-content"},Is={class:"stat-number"},$s={class:"stat-card"},Ds={class:"stat-icon"},Es={class:"stat-content"},Fs={class:"stat-number"},Rs={class:"stat-card"},Us={class:"stat-icon"},zs={class:"stat-content"},Ms={class:"stat-number"},Ns={__name:"History",setup(Ps){const k=K(),w=d("articles"),T=d("all"),m=d([{id:1,title:"Vue 3 Composition API 完全指南",summary:"深入理解 Vue 3 的 Composition API，包括 setup 函数、响应式 API、生命周期钩子等核心概念...",author:"张三",publishTime:"2024-01-15",views:1250,readTime:"5",cover:""},{id:2,title:"前端性能优化最佳实践",summary:"从代码层面到工程化层面，全面介绍前端性能优化的各种方法和技巧...",author:"李四",publishTime:"2024-01-10",views:890,readTime:"12",cover:""},{id:3,title:"TypeScript 进阶技巧",summary:"掌握 TypeScript 的高级特性，提升代码质量和开发效率...",author:"王五",publishTime:"2024-01-08",views:650,readTime:"8",cover:""}]),f=d([{keyword:"Vue 3 教程",time:"2小时前"},{keyword:"前端性能优化",time:"1天前"},{keyword:"TypeScript 类型",time:"2天前"},{keyword:"React Hooks",time:"3天前"}]),B=d(156),A=d(1240),I=d(45),$=d(89),D=c=>{k.push(`/article/${c}`)},E=c=>{k.push({name:"Search",query:{q:c}})},F=c=>{const e=m.value.findIndex(v=>v.id===c);e>-1&&(m.value.splice(e,1),y.success("已删除历史记录"))},R=c=>{f.value.splice(c,1),y.success("已删除搜索记录")},U=async()=>{try{await H.confirm("确定要清空所有浏览历史吗？","确认清空",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),m.value=[],y.success("已清空浏览历史")}catch{}},z=async()=>{try{await H.confirm("确定要清空所有搜索历史吗？","确认清空",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),f.value=[],y.success("已清空搜索历史")}catch{}};return O(()=>{console.log("加载历史数据")}),(c,e)=>{const v=l("el-option"),M=l("el-select"),h=l("el-button"),g=l("Document"),i=l("el-icon"),N=l("User"),C=l("Clock"),P=l("View"),q=l("Timer"),b=l("el-tab-pane"),x=l("Search"),L=l("Calendar"),j=l("el-tabs");return u(),_("div",Q,[e[13]||(e[13]=s("div",{class:"page-header"},[s("h1",{class:"page-title"},"浏览历史"),s("p",{class:"page-description"},"查看您的浏览记录和阅读历史")],-1)),s("div",W,[t(j,{modelValue:w.value,"onUpdate:modelValue":e[1]||(e[1]=o=>w.value=o),class:"history-tabs"},{default:a(()=>[t(b,{label:"文章历史",name:"articles"},{default:a(()=>[s("div",X,[s("div",Y,[e[3]||(e[3]=s("h3",null,"文章浏览历史",-1)),s("div",Z,[t(M,{modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=o=>T.value=o),placeholder:"时间筛选",size:"small",style:{width:"120px","margin-right":"10px"}},{default:a(()=>[t(v,{label:"全部",value:"all"}),t(v,{label:"今天",value:"today"}),t(v,{label:"本周",value:"week"}),t(v,{label:"本月",value:"month"})]),_:1},8,["modelValue"]),t(h,{type:"danger",size:"small",onClick:U},{default:a(()=>[...e[2]||(e[2]=[r("清空历史",-1)])]),_:1})])]),s("div",ss,[(u(!0),_(V,null,S(m.value,o=>(u(),_("div",{key:o.id,class:"history-item"},[s("div",ts,[o.cover?(u(),_("img",{key:0,src:o.cover,alt:o.title},null,8,es)):(u(),_("div",os,[t(i,null,{default:a(()=>[t(g)]),_:1})]))]),s("div",as,[s("h4",{class:"article-title",onClick:p=>D(o.id)},n(o.title),9,ls),s("p",ns,n(o.summary),1),s("div",is,[s("span",cs,[t(i,null,{default:a(()=>[t(N)]),_:1}),r(" "+n(o.author),1)]),s("span",ds,[t(i,null,{default:a(()=>[t(C)]),_:1}),r(" "+n(o.publishTime),1)]),s("span",rs,[t(i,null,{default:a(()=>[t(P)]),_:1}),r(" "+n(o.views)+" 阅读 ",1)]),s("span",_s,[t(i,null,{default:a(()=>[t(q)]),_:1}),r(" "+n(o.readTime)+" 分钟前阅读 ",1)])])]),s("div",us,[t(h,{type:"text",onClick:p=>F(o.id)},{default:a(()=>[...e[4]||(e[4]=[r(" 删除记录 ",-1)])]),_:1},8,["onClick"])])]))),128))])])]),_:1}),t(b,{label:"搜索历史",name:"search"},{default:a(()=>[s("div",vs,[s("div",ms,[e[6]||(e[6]=s("h3",null,"搜索历史",-1)),s("div",hs,[t(h,{type:"danger",size:"small",onClick:z},{default:a(()=>[...e[5]||(e[5]=[r("清空搜索历史",-1)])]),_:1})])]),s("div",ps,[(u(!0),_(V,null,S(f.value,(o,p)=>(u(),_("div",{key:p,class:"search-item"},[s("div",ys,[t(i,null,{default:a(()=>[t(x)]),_:1})]),s("div",fs,[s("span",{class:"search-keyword",onClick:G=>E(o.keyword)},n(o.keyword),9,bs),s("span",ks,n(o.time),1)]),s("div",ws,[t(h,{type:"text",onClick:G=>R(p)},{default:a(()=>[...e[7]||(e[7]=[r(" 删除 ",-1)])]),_:1},8,["onClick"])])]))),128))])])]),_:1}),t(b,{label:"访问统计",name:"stats"},{default:a(()=>[s("div",Ts,[e[12]||(e[12]=s("div",{class:"section-header"},[s("h3",null,"访问统计")],-1)),s("div",gs,[s("div",Cs,[s("div",xs,[t(i,null,{default:a(()=>[t(g)]),_:1})]),s("div",Vs,[s("div",Ss,n(B.value),1),e[8]||(e[8]=s("div",{class:"stat-label"},"总阅读文章数",-1))])]),s("div",Hs,[s("div",Bs,[t(i,null,{default:a(()=>[t(C)]),_:1})]),s("div",As,[s("div",Is,n(A.value),1),e[9]||(e[9]=s("div",{class:"stat-label"},"总阅读时长(分钟)",-1))])]),s("div",$s,[s("div",Ds,[t(i,null,{default:a(()=>[t(L)]),_:1})]),s("div",Es,[s("div",Fs,n(I.value),1),e[10]||(e[10]=s("div",{class:"stat-label"},"活跃天数",-1))])]),s("div",Rs,[s("div",Us,[t(i,null,{default:a(()=>[t(x)]),_:1})]),s("div",zs,[s("div",Ms,n($.value),1),e[11]||(e[11]=s("div",{class:"stat-label"},"总搜索次数",-1))])])])])]),_:1})]),_:1},8,["modelValue"])])])}}},Ls=J(Ns,[["__scopeId","data-v-d428d173"]]);export{Ls as default};
