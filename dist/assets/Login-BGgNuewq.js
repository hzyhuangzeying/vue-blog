import{_ as q,u as z,m as C,r as p,p as D,a as l,c as E,b as F,d as s,e as o,w as t,h as a,t as M,s as N,E as _}from"./index-DoAYnoBG.js";const h={class:"login-page"},I={class:"login-container"},T={class:"login-form-wrapper"},j={class:"form-options"},A={class:"form-footer"},G={class:"register-tip"},H={class:"login-banner"},J={class:"banner-content"},K={class:"banner-features"},O={class:"feature-item"},P={class:"feature-item"},Q={class:"feature-item"},W={__name:"Login",setup(X){const f=z(),w=C(),m=p(),i=p(!1),g=p(!1),n=D({username:"",password:""}),V={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}]},v=async()=>{if(m.value)try{if(!await m.value.validate())return;i.value=!0;const e=await w.login(n);if(e.success){_.success("登录成功！");const u=f.currentRoute.value.query.redirect||"/home";f.push(u)}else _.error(e.message||"登录失败")}catch{_.error("登录失败，请重试")}finally{i.value=!1}};return(b,e)=>{const u=l("el-input"),d=l("el-form-item"),k=l("el-checkbox"),x=l("el-link"),y=l("el-button"),U=l("el-form"),S=l("router-link"),R=l("Document"),c=l("el-icon"),B=l("User"),L=l("Star");return F(),E("div",h,[s("div",I,[s("div",T,[e[7]||(e[7]=s("div",{class:"form-header"},[s("h1",{class:"form-title"},"登录"),s("p",{class:"form-subtitle"},"欢迎回来，请登录您的账号")],-1)),o(U,{ref_key:"loginFormRef",ref:m,model:n,rules:V,class:"login-form",onSubmit:N(v,["prevent"])},{default:t(()=>[o(d,{prop:"username"},{default:t(()=>[o(u,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=r=>n.username=r),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(d,{prop:"password"},{default:t(()=>[o(u,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=r=>n.password=r),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o(d,null,{default:t(()=>[s("div",j,[o(k,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=r=>g.value=r)},{default:t(()=>[...e[3]||(e[3]=[a("记住我",-1)])]),_:1},8,["modelValue"]),o(x,{type:"primary",underline:!1},{default:t(()=>[...e[4]||(e[4]=[a("忘记密码？",-1)])]),_:1})])]),_:1}),o(d,null,{default:t(()=>[o(y,{type:"primary",size:"large",class:"login-button",loading:i.value,onClick:v},{default:t(()=>[a(M(i.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),s("div",A,[s("p",G,[e[6]||(e[6]=a(" 还没有账号？ ",-1)),o(S,{to:"/register",class:"register-link"},{default:t(()=>[...e[5]||(e[5]=[a("立即注册",-1)])]),_:1})])])]),s("div",H,[s("div",J,[e[11]||(e[11]=s("h2",{class:"banner-title"},"Vue Blog",-1)),e[12]||(e[12]=s("p",{class:"banner-subtitle"},"分享技术，记录成长",-1)),s("div",K,[s("div",O,[o(c,{class:"feature-icon"},{default:t(()=>[o(R)]),_:1}),e[8]||(e[8]=s("span",null,"技术文章分享",-1))]),s("div",P,[o(c,{class:"feature-icon"},{default:t(()=>[o(B)]),_:1}),e[9]||(e[9]=s("span",null,"个人成长记录",-1))]),s("div",Q,[o(c,{class:"feature-icon"},{default:t(()=>[o(L)]),_:1}),e[10]||(e[10]=s("span",null,"知识交流社区",-1))])])])])])])}}},Z=q(W,[["__scopeId","data-v-14ce39fc"]]);export{Z as default};
